# Google Play Publiseringsguide for SkyteKlokke

Denne guiden tar deg gjennom alle steg for √• publisere SkyteKlokke til Google Play Store med Google Play App Signing.

## üìã Sjekkliste f√∏r du starter

- [x] Google-konto opprettet
- [x] $25 USD klar for betaling (engangsavgift)
- [x] Kredittkort/betalingsinformasjon tilgjengelig
- [ ] ID-dokument for verifisering (kan bli bedt om)
- [x] Prosjektet bygger uten feil lokalt

## ‚úÖ Fremdrift

- [x] **Steg 1.1**: Registrert som Google Play Developer ($25 betalt)
- [x] **Steg 1.2**: Godkjent av Google
- [x] **Forberedelser**: Screenshots konvertert til PNG (8 stk)
- [x] **Forberedelser**: App-ikon 512x512 opprettet
- [x] **Forberedelser**: .gitignore oppdatert (keystore, keystore.properties)
- [x] **Steg 2**: Upload keystore generert
- [x] **Steg 3.1**: keystore.properties opprettet
- [x] **Steg 3.2**: build.gradle oppdatert med signing-konfigurasjon
- [x] **Steg 4**: App Bundle (AAB) bygget (46 MB, versjon 0.1.0-beta.3)
- [x] **Steg 5.1**: Metadata forberedt (beskrivelser og screenshots)
- [ ] **Steg 6**: Opprett app i Play Console
- [ ] **Steg 7**: Fyll ut Store listing
- [ ] **Steg 8**: App content (Privacy, Data safety, Ads, Rating)
- [ ] **Steg 9**: Countries/regions
- [ ] **Steg 10**: Upload AAB med Play App Signing
- [ ] **Steg 11**: Send til review

## üîê Steg 1: Opprett Google Play Developer-konto

### 1.1 Registrer deg

1. G√• til: https://play.google.com/console/signup
2. Logg inn med din Google-konto
3. Velg kontotype:
   - **Individual** (Anbefalt for deg) - Personlig utvikler
   - **Organization** - For bedrifter
4. Fyll ut informasjon:
   - Navn: Sigurd Nes
   - E-post: [din-epost]
   - Land: Norge
5. Betal $25 USD engangsavgift
6. Aksepter Google Play Developer Distribution Agreement
7. Vent p√• godkjenning (vanligvis umiddelbart, kan ta opp til 48 timer)

### 1.2 Fullf√∏r profilen

- Legg til utviklerinformasjon
- Verifiser identitet hvis p√•krevd
- Legg til betalingsinformasjon (selv om appen er gratis)

**Kostnad**: $25 USD (engangs)
**Tid**: 15-30 minutter

---

## üîë Steg 2: Opprett upload keystore

Selv om Google Play App Signing h√•ndterer den endelige signeringen, trenger du en **upload key** for √• laste opp appen.

### 2.1 Generer upload keystore

```bash
cd android/app

keytool -genkeypair -v \
  -storetype PKCS12 \
  -keystore skyteklokke-upload.keystore \
  -alias skyteklokke-upload \
  -keyalg RSA \
  -keysize 2048 \
  -validity 10000
```

### 2.2 Fyll ut informasjon

Du vil bli spurt om:

```
Enter keystore password: [Velg sterkt passord]
Re-enter new password: [Gjenta]
Enter key password: [Kan v√¶re samme som keystore]
Re-enter new password: [Gjenta]

What is your first and last name? Sigurd Nes
What is the name of your organizational unit? [Enter/skip]
What is the name of your organization? [Enter/skip]
What is the name of your City or Locality? [By]
What is the name of your State or Province? [Fylke]
What is the two-letter country code for this unit? NO

Is CN=Sigurd Nes, ... correct? yes
```

### 2.3 Lagre passord trygt

**‚ö†Ô∏è VIKTIG: Skriv ned og lagre:**
- Keystore passord
- Key passord
- Keystore filnavn: `skyteklokke-upload.keystore`
- Key alias: `skyteklokke-upload`

Lagre i passordbehandler eller p√• sikker plass!

### 2.4 Sikkerhetskopi

```bash
# Kopier til sikker lokasjon
cp android/app/skyteklokke-upload.keystore ~/Dokumenter/Keystore-backup/

# IKKE sjekk inn i Git!
echo "*.keystore" >> .gitignore
echo "keystore.properties" >> .gitignore
```

---

## ‚öôÔ∏è Steg 3: Konfigurer signing i prosjektet

### 3.1 Opprett keystore.properties

Opprett filen `android/keystore.properties`:

```properties
storePassword=DITT_KEYSTORE_PASSORD
keyPassword=DITT_KEY_PASSORD
keyAlias=skyteklokke-upload
storeFile=skyteklokke-upload.keystore
```

**‚ö†Ô∏è ALDRI commit denne filen til Git!**

Sjekk at den er i `.gitignore`:

```bash
grep "keystore.properties" .gitignore
```

### 3.2 Oppdater build.gradle

Rediger `android/app/build.gradle` og sjekk at den har:

```gradle
android {
    // ... existing config ...
    
    // Last inn keystore-konfigurasjon
    def keystorePropertiesFile = rootProject.file("keystore.properties")
    def keystoreProperties = new Properties()
    if (keystorePropertiesFile.exists()) {
        keystoreProperties.load(new FileInputStream(keystorePropertiesFile))
    }
    
    signingConfigs {
        debug {
            storeFile file('debug.keystore')
            storePassword 'android'
            keyAlias 'androiddebugkey'
            keyPassword 'android'
        }
        release {
            if (keystorePropertiesFile.exists()) {
                storeFile file(keystoreProperties['storeFile'])
                storePassword keystoreProperties['storePassword']
                keyAlias keystoreProperties['keyAlias']
                keyPassword keystoreProperties['keyPassword']
            }
        }
    }
    
    buildTypes {
        release {
            signingConfig signingConfigs.release
            minifyEnabled true
            shrinkResources true
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }
    
    // ... rest of config ...
}
```

---

## üì¶ Steg 4: Bygg App Bundle for produksjon

### 4.1 Oppdater versjonsinformasjon

Rediger `android/app/build.gradle`:

```gradle
defaultConfig {
    applicationId "com.sigurdne.skyteklokke"
    minSdkVersion 24
    targetSdkVersion 34
    versionCode 1          // ‚Üê F√∏rste versjon
    versionName "1.0.0"    // ‚Üê Synlig versjonsnummer
}
```

### 4.2 Bygg App Bundle (AAB)

```bash
# Naviger til android-mappen
cd android

# Bygg release App Bundle
./gradlew bundleRelease
```

**Output**: `android/app/build/outputs/bundle/release/app-release.aab`

### 4.3 Verifiser bygget

```bash
# Sjekk filst√∏rrelse
ls -lh app/build/outputs/bundle/release/app-release.aab

# Forventet st√∏rrelse: ~30-60 MB
```

**Tid**: 2-5 minutter

---

## üé® Steg 5: Forbered metadata og grafisk materiale

### 5.1 App-beskrivelse

**Kort beskrivelse** (maks 80 tegn):
```
SkyteKlokke for konkurranseskyttere og standplassledere
```

**Full beskrivelse** (maks 4000 tegn):
```
‚è±Ô∏è SKYTEKLOKKE - TIMER FOR KONKURRANSESKYTTERE

SkyteKlokke er en timer-app utviklet for konkurranseskyttere og standplassledere. Appen gir deg enkel og presis timing for feltmatch, i tillegg til en simlator for trening for duellskyting i henhold til DFS-regler.

üéØ HOVEDFUNKSJONER

‚Ä¢ FELTMATCH - Komplette tidssekvenser for feltskyting med automatisk faseskifte
‚Ä¢ DUELLMATCH - Simulator for duellskyting med konfigurerbare tidsintervaller  
‚Ä¢ NORSK GRENSESNITT - Utviklet av og for norske skyttere
‚Ä¢ VISUELL INDIKASJON - Tydelig fargekoding for hver fase
‚Ä¢ SKJERM ALLTID P√Ö - Skjermen forblir aktiv under hele √∏kten

üì± ENKEL √Ö BRUKE

‚Ä¢ Intuitivt design tilpasset standplassleder
‚Ä¢ Store, tydelige tall som er lette √• lese p√• avstand
‚Ä¢ Godt synlig i alle lysforhold
‚Ä¢ Enkle kontroller - start, pause, tilbakestill
‚Ä¢ Konfigurerbare innstillinger per program

üá≥üá¥ LAGET FOR PISTOL SKYTTERE

SkyteKlokke er utviklet av Sigurd Nes, programvareutvikler og skytter. Appen er laget for √• dekke et reelt behov for en enkel, p√•litelig, timer for b√•de trening og konkurranser.

‚ö° 100% GRATIS & OPEN SOURCE

‚Ä¢ Ingen reklame
‚Ä¢ Ingen abonnementer
‚Ä¢ Ingen skjulte kostnader
‚Ä¢ Ingen datainnsamling
‚Ä¢ Kildekoden er √•pen p√• GitHub

üîí PERSONVERN

‚Ä¢ All data lagres lokalt p√• din enhet
‚Ä¢ Ingen brukerregistrering
‚Ä¢ Ingen sporing eller analytikk
‚Ä¢ Ingen tilkobling til eksterne servere

üåê FLERSPR√ÖKLIG

St√∏tte for norsk, svensk, dansk og engelsk.

üìñ √ÖPEN KILDEKODE

Prosjektet er √•pent for bidrag! Bes√∏k GitHub-repositoryet for √• se kildekoden, rapportere feil eller foresl√• forbedringer.

---

Perfekt for:
‚úì Standplassledere som trenger enkel, intuitiv og p√•litelig timing
‚úì Skyttere som vil trene med korrekte tidssekvenser
‚úì Alle som √∏nsker en enkel, effektiv timer for pistolskyting

Last ned SkyteKlokke i dag og opplev forskjellen!
```

### 5.2 Screenshots

Du har allerede 8 gode screenshots i `docs/screenshots/`. Disse m√• v√¶re:
- Format: PNG eller JPEG
- St√∏rrelse: Minimum 320px, maksimum 3840px
- St√∏rrelsesforhold: 16:9 eller 9:16 (foretrukket)

**Konverter WebP til PNG for Play Store:**

```bash
cd docs/screenshots

# Installer imagemagick hvis ikke installert
sudo apt-get install imagemagick

# Konverter alle WebP til PNG
for file in *.webp; do
    convert "$file" "${file%.webp}.png"
done

# Kopier PNG-filer til play-store mappe
mkdir -p ../../play-store/screenshots
cp *.png ../../play-store/screenshots/
```

**Anbefalte screenshots (velg 4-8):**
1. Hovedskjerm (menyvalg)
2. Feltmatch innstillinger
3. Aktiv timer (ILD-fase)
4. STAANS-varsel
5. Fullf√∏rt skjerm

### 5.3 App-ikon

Ikonet ligger allerede i `android/app/src/main/res/mipmap-xxxhdpi/ic_launcher.png`

**For Play Store trenger du ogs√•:**
- **512x512 px ikon** (h√∏yoppl√∏selig versjon)

```bash
# Hvis du har SVG eller st√∏rre PNG
convert android/app/src/main/res/mipmap-xxxhdpi/ic_launcher.png \
  -resize 512x512 \
  play-store/icon-512.png
```

### 5.4 Feature Graphic (valgfritt men anbefalt)

- St√∏rrelse: **1024x500 px**
- Format: PNG eller JPEG
- Vises √∏verst i Play Store-oppf√∏ringen

**Lag en enkel feature graphic:**
```bash
# Du kan lage dette i GIMP, Canva eller lignende
# Forslag: Lilla gradient bakgrunn med app-logo og tekst "SkyteKlokke"
```

---

## üì± Steg 6: Opprett appen i Play Console

### 6.1 Logg inn

1. G√• til https://play.google.com/console
2. Logg inn med din Developer-konto

### 6.2 Opprett ny app

1. Klikk **"Create app"**
2. Fyll ut:
   - **App name**: SkyteKlokke
   - **Default language**: Norwegian (Norsk)
   - **App or game**: App
   - **Free or paid**: Free
3. Aksepter retningslinjer
4. Klikk **"Create app"**

---

## üìã Steg 7: Fyll ut Store listing

### 7.1 App details

Naviger til: **Grow** ‚Üí **Store presence** ‚Üí **Main store listing**

**App name**: SkyteKlokke

**Short description**:
```
Presisjonstimer for konkurranseskyttere og standplassleder
```

**Full description**: (Lim inn teksten fra 5.1)

### 7.2 Graphics

Last opp:
- ‚úÖ **App icon**: 512x512 px
- ‚úÖ **Feature graphic**: 1024x500 px (hvis du har)
- ‚úÖ **Phone screenshots**: Minimum 2, anbefalt 4-8

### 7.3 Categorization

- **App category**: Sports eller Tools
- **Tags**: timer, skyting, pistol, konkurranse

### 7.4 Contact details

- **Email**: [din-epost]
- **Website**: https://sigurdne.github.io/skyteklokke/
- **Privacy policy URL**: https://sigurdne.github.io/skyteklokke/privacy-policy.html

Klikk **Save**

---

## üîê Steg 8: App content - Personvern og sikkerhet

### 8.1 Privacy policy

Naviger til: **Policy** ‚Üí **App content** ‚Üí **Privacy policy**

- URL: `https://sigurdne.github.io/skyteklokke/privacy-policy.html`
- Klikk **Save**

### 8.2 Data safety

Naviger til: **Policy** ‚Üí **App content** ‚Üí **Data safety**

**Svar p√• sp√∏rsm√•l:**

1. **Does your app collect or share user data?**
   - ‚ùå No (appen samler ikke inn data)

2. Klikk **Next** og fullf√∏r

### 8.3 Advertising

Naviger til: **Policy** ‚Üí **App content** ‚Üí **Ads**

- ‚ùå **No, my app does not contain ads**

### 8.4 Target audience and content

Naviger til: **Policy** ‚Üí **App content** ‚Üí **Target audience**

- **Target age group**: 13+ (eller "All ages")
- **No**, app does not appeal specifically to children

### 8.5 Content rating

Naviger til: **Policy** ‚Üí **App content** ‚Üí **Content rating**

1. Klikk **Start questionnaire**
2. Velg **IARC questionnaire**
3. Fyll ut:
   - Email: [din-epost]
   - Category: Sports/Tools
4. Svar p√• sp√∏rsm√•l (alle sannsynligvis "No" for en timer-app)
5. Submit
6. Du f√•r umiddelbart rating (sannsynligvis PEGI 3 / Everyone)

---

## üåç Steg 9: Countries/regions og pricing

Naviger til: **Reach and devices** ‚Üí **Countries/regions**

- **Available countries**: Velg land der du vil distribuere
  - Start med Norge, Sverige, Danmark
  - Eller velg "All countries"

---

## üöÄ Steg 10: Upload App Bundle med Play App Signing

### 10.1 G√• til Production release

Naviger til: **Release** ‚Üí **Production**

### 10.2 Create new release

1. Klikk **"Create new release"**

### 10.3 Play App Signing (VIKTIG!)

Du vil se en melding om Play App Signing:

> **"Let Google manage and protect your app signing key (recommended)"**

‚úÖ Klikk **"Continue"**

Dette aktiverer Play App Signing. Google vil:
- Generere en sikker app signing key
- H√•ndtere all signing automatisk
- La deg laste opp med upload key

### 10.4 Upload App Bundle

1. Klikk **"Upload"**
2. Velg filen: `android/app/build/outputs/bundle/release/app-release.aab`
3. Vent p√• opplasting og prosessering (1-2 minutter)

### 10.5 Release name

Google genererer automatisk, eller du kan skrive:
```
Version 1.0.0 - F√∏rste offisielle release
```

### 10.6 Release notes (Norsk)

```
üéâ F√∏rste offisielle release av SkyteKlokke!

Funksjoner:
‚Ä¢ Feltmatch timer med automatiske faseskift
‚Ä¢ Duellmatch simulator
‚Ä¢ Norsk talefeedback og kommandoer
‚Ä¢ Tilpassbare tidsinnstillinger
‚Ä¢ Skjermen holder seg aktiv under bruk
‚Ä¢ Intuitiv betjening for standplassleder

Utviklet av og for norske skyttere.
```

### 10.7 Rollout percentage

For f√∏rste release:
- Start med **20%** gradvis utrulling
- Etter 1-2 dager uten problemer ‚Üí √∏k til 50%
- Etter 3-4 dager ‚Üí 100%

Eller velg **Full rollout** hvis du er sikker.

### 10.8 Save og review

1. Klikk **"Save"**
2. Sjekk at alt er gr√∏nt ‚úÖ
3. Klikk **"Review release"**

---

## ‚úÖ Steg 11: Send til review

### 11.1 Sjekk status

G√• gjennom alle seksjoner og sjekk at alle har gr√∏nn hake ‚úÖ:

- ‚úÖ Store listing (beskrivelse, screenshots, ikon)
- ‚úÖ App content (personvern, ads, content rating)
- ‚úÖ Countries and pricing
- ‚úÖ Production release (App Bundle uploaded)

### 11.2 Submit for review

1. Klikk **"Start rollout to Production"**
2. Bekreft
3. Appen sendes til Google for review

### 11.3 Review-prosessen

- **Tid**: Vanligvis 1-7 dager, ofte 24-48 timer
- **Status**: Sjekk i Play Console ‚Üí **Publishing overview**
- **Varsler**: Du f√•r e-post n√•r status endres

---

## üìä Steg 12: Etter publisering

### 12.1 Overv√•k lansering

- **Play Console Dashboard**: Se nedlastninger, crashes, ratings
- **Pre-launch report**: Google tester appen automatisk p√• ulike enheter
- **Crashes and ANRs**: Overv√•k for feil

### 12.2 F√∏rste 48 timer

- Sjekk for crashes daglig
- Svar p√• brukeranmeldelser
- Overv√•k rating

### 12.3 Gradvis √∏k rollout

Hvis du startet med 20%:
- **Dag 2-3**: √òk til 50% hvis alt g√•r bra
- **Dag 4-5**: √òk til 100%

---

## üîÑ Fremtidige oppdateringer

### Oppdater appen

1. **Gj√∏r endringer i koden**
2. **Oppdater versjon** i `android/app/build.gradle`:
   ```gradle
   versionCode 2          // ‚Üê M√• alltid √∏ke!
   versionName "1.0.1"    // ‚Üê Synlig versjon
   ```
3. **Bygg ny AAB**:
   ```bash
   cd android
   ./gradlew bundleRelease
   ```
4. **Last opp** til Play Console ‚Üí Production ‚Üí Create new release
5. **Skriv release notes**
6. **Send til review**

### Eksempel release notes for v1.0.1:

```
üîß Oppdatering 1.0.1

Forbedringer:
‚Ä¢ Forbedret lydkvalitet for kommandoer
‚Ä¢ Fikset bug med pause-funksjon
‚Ä¢ Optimalisert batteribruk

Takk for tilbakemeldinger!
```

---

## üìã Oppsummering

**Hva du trenger:**
- ‚úÖ Google Play Developer-konto ($25)
- ‚úÖ Upload keystore (generert)
- ‚úÖ App Bundle (bygget)
- ‚úÖ Screenshots (8 stk ferdig)
- ‚úÖ Personvernpolicy (ferdig p√• GitHub Pages)
- ‚úÖ App-beskrivelser (skrivet over)

**Tidsestimat:**
- Opprett Developer-konto: 30 min
- Generer keystore og konfigurer: 15 min
- Bygg App Bundle: 5 min
- Forbered screenshots: 15 min
- Fyll ut Play Console: 45-60 min
- **Totalt**: 2-2.5 timer

**Review-tid:**
- 1-7 dager (vanligvis 24-48 timer)

**Kostnad:**
- $25 USD (engangs)

---

## üÜò Feils√∏king

### Problem: "App Bundle is not signed"

**L√∏sning:** Sjekk at `keystore.properties` eksisterer og har riktige verdier.

### Problem: "Version code 1 has already been used"

**L√∏sning:** √òk `versionCode` i `build.gradle`.

### Problem: "Privacy policy URL is not reachable"

**L√∏sning:** 
1. Commit og push privacy-policy.html
2. Aktiver GitHub Pages
3. Vent 2-3 minutter
4. Test URL: https://sigurdne.github.io/skyteklokke/privacy-policy.html

### Problem: Gradlew command not found

**L√∏sning:**
```bash
cd android
chmod +x gradlew
./gradlew bundleRelease
```

---

## üìö Nyttige ressurser

- [Play Console Help](https://support.google.com/googleplay/android-developer)
- [Launch Checklist](https://developer.android.com/distribute/best-practices/launch/launch-checklist)
- [Play App Signing](https://support.google.com/googleplay/android-developer/answer/9842756)
- [Content Rating](https://support.google.com/googleplay/android-developer/answer/9859655)

---

## ‚ú® Du er klar!

F√∏lg stegene over, og SkyteKlokke vil v√¶re tilgjengelig p√• Google Play Store om noen dager! üéâ

**Lykke til med lanseringen!** üöÄ
